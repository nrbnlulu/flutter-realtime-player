[package]
name = "rust_lib_my_app"
version = "0.1.0"
edition = "2021"

[lib]
crate-type = ["cdylib", "staticlib"]


[dependencies]
flutter_rust_bridge = "=2.8.0"

# irondash
irondash_texture = { path = "../../OS/irondash/texture"}
irondash_run_loop = { path = "../../OS/irondash/run_loop" }
irondash_engine_context ={ path = "../../OS/irondash/engine_context/rust" }
irondash_dart_ffi = { path = "../../OS/irondash/dart_ffi" }
# irondash_texture = { git = "https://github.com/nrbnlulu/irondash", branch = "windows-for-gstreamer"}
# irondash_run_loop = { git = "https://github.com/nrbnlulu/irondash", branch = "windows-for-gstreamer" }
# irondash_engine_context = { git = "https://github.com/nrbnlulu/irondash", branch = "windows-for-gstreamer" }
# irondash_dart_ffi = { git = "https://github.com/nrbnlulu/irondash", branch = "windows-for-gstreamer" }


simple_logger = "2.1"
log = "0.4"
anyhow = "1.0.81"
async-trait = "0.1.77"
tokio = { version = "1", features = ["full"] }
flume = "0.11.1"
simple-log = "2.1.1"
lazy_static = "1.5.0"
# GLib (GIMP Library) dependencies
glib = "0.17.4"
glib-macros = "0.17.4"
glib-sys = "0.17.4"
gobject-sys = "0.17.4"

# GStreamer dependencies
gst = { package = "gstreamer", version = "0.23.4" }
gst-base = { package = "gstreamer-base", version = "0.23.4" }
gst-video = { package = "gstreamer-video", version = "0.23.4" }
gst-app = { package = "gstreamer-app", version = "0.23.4" }

thread_local = "1.1.8"


[target.'cfg(target_os = "windows")'.dependencies]
windows = { version = "0.59.0", features = [
    "Win32_Graphics_Direct3D11",
    "Win32_Foundation",
    "Win32_Graphics_Direct3D",
    "Win32_Graphics_Dxgi",
    "Win32_Graphics_Dxgi_Common",
    "Win32_Graphics_Direct2D",
    "Win32_Graphics_Gdi",
    "Win32_Graphics_Direct2D_Common",
    "Win32_Graphics_DirectWrite",
    "Win32_Graphics_Imaging",
    "Win32_System_Com",
    "Foundation_Numerics",
] }


[target.'cfg(target_os = "linux")'.dependencies]
# GDK (GIMP Drawing Kit) dependencies
gdk = "0.17.1"
gdk-sys = "0.17.0"
gdkwayland = "0.17.0"
gdkx11 = "0.17.0"

gst-gl = { package = "gstreamer-gl", version = "0.23.4" }
gst-gl-egl = { package = "gstreamer-gl-egl", version = "0.23.4" }
gst-gl-x11 = { package = "gstreamer-gl-x11", version = "0.23.4" }

glutin_egl_sys = "0.7.1"


# OpenGL loader
gl_loader = "0.1.2"

# GTK (GIMP Toolkit) dependencies
gtk-sys = "0.17.0"


[build-dependencies]
gl_generator = "0.14"
cfg_aliases = "0.2.1"


[features]
wayland = []
