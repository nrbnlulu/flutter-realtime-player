[package]
name = "rust_lib_my_app"
version = "0.1.0"
edition = "2021"

[lib]
crate-type = ["cdylib", "staticlib"]


[dependencies]
flutter_rust_bridge = "=2.7.0"
irondash_texture = { version = "0.5.0" }
irondash_run_loop = { version = "0.5.0" }
irondash_dart_ffi = "0.2.0"
simple_logger = "2.1"
log = "0.4"
anyhow = "1.0.81"
async-trait = "0.1.77"
tokio = { version = "1", features = ["full"] }
flume = "0.11.1"
simple-log = "2.1.1"
irondash_engine_context = "0.5.0"
lazy_static = "1.5.0"

# GStreamer dependencies
gst = { package = "gstreamer", version = "0.23.4" }
gst-base = { package = "gstreamer-base", version = "0.23.4" }
gst-video = { package = "gstreamer-video", version = "0.23.4" }
gst-app = { package = "gstreamer-app", version = "0.23.4" }

thread_local = "1.1.8"

[target.'cfg(target_os = "windows")'.dependencies]
windows = {version = "0.61.0", features = ["Win32_System_Com", "Win32_Graphics_Direct3D11", "Win32_Graphics_Dxgi"]}


[target.'cfg(target_os = "linux")'.dependencies]
# GDK (GIMP Drawing Kit) dependencies
gdk = "0.17.1"
gdk-sys = "0.17.0"
gdkwayland = "0.17.0"
gdkx11 = "0.17.0"

gst-gl = { package = "gstreamer-gl", version = "0.23.4" }
gst-gl-egl = { package = "gstreamer-gl-egl", version = "0.23.4" }
gst-gl-x11 = { package = "gstreamer-gl-x11", version = "0.23.4" }

glutin_egl_sys = "0.7.1"
egli = { git = "https://github.com/Nercury/egli-rs.git", branch = "master" }

# GLib (GIMP Library) dependencies
glib = "0.17.4"
glib-macros = "0.17.4"
glib-sys = "0.17.4"
gobject-sys = "0.17.4"
# OpenGL loader
gl_loader = "0.1.2"

# GTK (GIMP Toolkit) dependencies
gtk-sys = "0.17.0"


[build-dependencies]
gl_generator = "0.14"
cfg_aliases = "0.2.1"


[features]
wayland = []
